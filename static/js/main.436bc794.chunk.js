(this["webpackJsonpredux-app"]=this["webpackJsonpredux-app"]||[]).push([[0],{83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(19),s=a.n(c),r=a(11),i=a(39),l=a(35),o=a.n(l),d=Object(r.b)({name:"games",initialState:{list:[],game:{},filteredGames:[]},reducers:{setGamesList:function(e,t){e.list=t.payload,e.game={}},setGame:function(e,t){e.game=t.payload},setSearch:function(e,t){e.filteredGames=e.list.filter((function(e){return e.title.toLowerCase().includes(t.payload.trim().toLowerCase())}))}}}),u=d.actions,j=u.setGamesList,m=u.setGame,b=u.setSearch,h=d.reducer,p=a(40),x=a(36),O=a.n(x),g=function(e,t){O.a.fire({icon:t,title:e,background:"#fff",padding:"2rem",position:"center",showConfirmButton:!1,timer:1200,customClass:{title:"alert-title"}})},f=Object(r.b)({name:"games",initialState:{list:[]},reducers:{setWishList:function(e,t){if(e.list.find((function(e){return e.id===t.payload.id})))return g("It's already on your wishlist!","error");e.list=[].concat(Object(p.a)(e.list),[t.payload]),g("Added to wishlist!","success")},setDeleteWishList:function(e,t){e.list=e.list.filter((function(e){return e.id!==t.payload}))}}}),v=f.actions,N=v.setWishList,y=v.setDeleteWishList,k=f.reducer,w=Object(r.b)({name:"ui",initialState:{loader:!1,inputValue:"",open:!1},reducers:{setLoader:function(e,t){e.loader=t.payload},setInput:function(e,t){e.inputValue=t.payload},setOpen:function(e,t){e.open=t.payload}}}),S=w.actions,C=S.setLoader,L=S.setInput,P=S.setOpen,I=w.reducer,E=Object(r.b)({name:"ui",initialState:{checking:!0,uid:null,name:null},reducers:{setChecking:function(e){e.checking=!1},setLogin:function(e,t){e.checking=!1,e.uid=t.payload.uid,e.name=t.payload.name},setLogout:function(e){e.checking=!1}}}),G=E.actions,D=G.setLogin,W=G.setChecking,q=G.setLogout,F=E.reducer,T={key:"root",storage:o.a},_=Object(r.a)({reducer:{games:h,wishList:Object(i.a)(T,k),ui:I,auth:F},middleware:function(e){return e({serializableCheck:!1})}}),B=a(3),V=a(38),A=a(20),H=a(12),J=a(2),R=a(0),z=function(e){var t=e.children;return Object(B.c)((function(e){return e.auth})).uid?Object(R.jsx)(J.a,{to:"/"}):t},M=a(5),K=a(7),Q=a.n(K),U=a(13),X=a(14),Y=a.n(X),Z={headers:{"x-rapidapi-host":"free-to-play-games-database.p.rapidapi.com","x-rapidapi-key":"dcb19afa2emshd5e6d499778292dp1d7971jsn69c10547df1f"}},$=function(e){var t=e.id,a=e.title,n=e.thumbnail,c=Object(J.g)();return Object(R.jsx)("div",{className:"col-lg-3 col-md-4 mb-4",children:Object(R.jsxs)("div",{className:"card bg-dark text-light rounded-3 shadow",children:[Object(R.jsx)("img",{className:"card-img-top",src:n,alt:a}),Object(R.jsxs)("div",{className:"card-body",children:[Object(R.jsx)("h2",{className:"card-title fs-4",children:a}),Object(R.jsx)("hr",{}),Object(R.jsx)("button",{className:"btn btn-primary",onClick:function(){c("/game/".concat(t,"q=").concat(a.toLowerCase()))},children:"Details"})]})]})})},ee=function(){var e=Object(B.b)(),t=Object(B.c)((function(e){return e.games})),a=t.filteredGames,c=t.list,s=Object(B.c)((function(e){return e.ui})),r=s.inputValue,i=s.loader;Object(n.useEffect)((function(){var t;e((t="https://free-to-play-games-database.p.rapidapi.com/api/games",function(){var e=Object(U.a)(Q.a.mark((function e(a){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(C(!0)),e.next=4,Y.a.get(t,Z);case 4:return n=e.sent,e.next=7,n.data;case 7:c=e.sent,a(j(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0);case 14:return e.prev=14,a(C(!1)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]);return Object(R.jsx)("main",{className:"container mt-4",children:Object(R.jsx)("div",{className:"row p-3",children:i?Object(R.jsx)("h1",{className:"text-light",children:"Loading..."}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{children:Object(R.jsx)("input",{type:"text",placeholder:"Buscar...",className:"form-control mb-3",onChange:function(t){var a=t.target;e(L(a.value)),e(b(r))},value:r})}),r.length>0?0===a.length?Object(R.jsx)("h2",{className:"text-danger text-center mt-3",children:"Game not found"}):a.map((function(e){return Object(R.jsx)($,Object(M.a)(Object(M.a)({},e),{},{game:e}),e.id)})):c.map((function(e){return Object(R.jsx)($,Object(M.a)(Object(M.a)({},e),{},{game:e}),e.id)}))]})})})},te=function(){var e=Object(B.b)(),t=Object(B.c)((function(e){return e.auth})).name,a=Object(B.c)((function(e){return e.ui})).open;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("div",{className:"text-light d-flex flex-column overflow-hidden pointer user-name",children:[Object(R.jsx)("span",{role:"button",onClick:function(){e(P(!a))},children:t}),Object(R.jsx)("div",{className:"bg-dark p-1 logOut",style:{display:a&&"block"},children:Object(R.jsx)("button",{onClick:function(){e((function(e){localStorage.clear(),e(q()),window.location.reload()}))},className:" btn text-light",children:"Sign out"})})]})})},ae=function(){var e=Object(B.c)((function(e){return e.auth})).uid;return Object(R.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(R.jsxs)("div",{className:"container-fluid",children:[Object(R.jsx)(H.b,{to:"/",className:"navbar-brand",children:"Games App"}),Object(R.jsxs)("div",{className:"d-flex wish-logout",children:[Object(R.jsx)(H.b,{to:"/wishlist",className:"text-light text-decoration-none",children:"Wishlist"}),e?Object(R.jsx)(te,{}):Object(R.jsx)(H.b,{to:"/auth",className:"text-light text-decoration-none",children:"Sign in"})]})]})})},ne=function(e){var t=e.game,a=e.title,n=e.thumbnail,c=e.game_url,s=e.screenshots,r=e.genre,i=e.release_date,l=e.description,o=e.minimum_system_requirements,d=Object(B.b)();return Object(R.jsx)("div",{className:"container-fluid text-light",children:Object(R.jsxs)("article",{className:"mt-5 pt-5",children:[Object(R.jsxs)("div",{className:"p-5 d-flex flex-column align-items-center",children:[Object(R.jsx)("img",{className:"rounded-3 mt-3 mb-5 img-detail",src:n,alt:a}),Object(R.jsxs)("div",{children:[Object(R.jsx)("button",{className:"btn btn-primary text-light",onClick:function(){d(N(t))},children:"Wishlist"}),Object(R.jsx)("a",{href:c,target:"blank",className:"btn btn-success text-light ms-3",children:"Play game"})]})]}),Object(R.jsxs)("div",{className:"d-flex flex-column p-5 text-center",children:[Object(R.jsx)("h2",{className:"fs-3",children:a}),Object(R.jsx)("hr",{}),Object(R.jsxs)("h3",{className:"fs-3",children:["Release date: ",i]}),Object(R.jsx)("hr",{}),Object(R.jsxs)("h4",{className:"fs-3",children:["Genre: ",r]}),Object(R.jsx)("hr",{}),Object(R.jsx)("h5",{className:"fs-3 text-center",children:"Game info:"}),Object(R.jsx)("p",{children:l}),Object(R.jsx)("br",{}),Object(R.jsx)("h5",{children:"System requirements: "}),Object(R.jsxs)("span",{children:["Graphics: ",null===o||void 0===o?void 0:o.graphics]}),Object(R.jsxs)("span",{children:["Memory: ",null===o||void 0===o?void 0:o.memory]}),Object(R.jsxs)("span",{children:["OS: ",null===o||void 0===o?void 0:o.os]}),Object(R.jsxs)("span",{children:["Processor: ",null===o||void 0===o?void 0:o.processor]}),Object(R.jsxs)("span",{children:["Storage: ",null===o||void 0===o?void 0:o.storage]})]}),Object(R.jsx)("div",{className:"screens-container",children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(R.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:a+t,className:"rounded-3 screens"},t)}))})]})})},ce=function(){var e=Object(B.b)(),t=Object(B.c)((function(e){return e.games})).game,a=Object(B.c)((function(e){return e.ui})).loader,c=Object(J.h)().gameId;return Object(n.useEffect)((function(){var t;e((t="https://free-to-play-games-database.p.rapidapi.com/api/game?id=".concat(c),function(){var e=Object(U.a)(Q.a.mark((function e(a){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(C(!0)),e.next=4,Y.a.get(t,Z);case 4:return n=e.sent,e.next=7,n.data;case 7:c=e.sent,a(m(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:return e.prev=14,a(C(!1)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}())),e(L(""))}),[e,c]),a?Object(R.jsx)("h1",{className:"text-light",children:"Loading..."}):Object(R.jsx)(ne,Object(M.a)(Object(M.a)({},t),{},{game:t}),t.id)},se=function(e){var t=e.id,a=e.title,n=e.thumbnail,c=e.handleSub,s=Object(J.g)();return Object(R.jsx)("div",{className:"col-lg-3 col-md-4 mb-4",children:Object(R.jsxs)("div",{className:"card bg-dark text-light rounded-3 shadow",children:[Object(R.jsx)("img",{className:"card-img-top",src:n,alt:a}),Object(R.jsxs)("div",{className:"card-body",children:[Object(R.jsx)("h2",{className:"card-title fs-4",children:a}),Object(R.jsx)("hr",{}),Object(R.jsx)("button",{className:"btn btn-primary",onClick:function(){s("/game/".concat(t))},children:"Details"}),Object(R.jsx)("button",{className:"btn btn-danger ms-3",onClick:function(){return c(t)},children:"Delete"})]})]})})},re=function(){var e=Object(B.c)((function(e){return e.wishList})).list,t=Object(B.b)(),a=function(e){return t(y(e))};return Object(R.jsxs)("section",{className:"container mt-4",children:[Object(R.jsx)("h1",{className:"text-light text-center mb-3",children:"Wish List"}),Object(R.jsx)("hr",{className:"bg-light"}),Object(R.jsx)("div",{className:"row p-3",children:0===e.length?Object(R.jsx)("h2",{className:"text-secondary text-center",children:"There is no game on your wishlist"}):e.map((function(e){return Object(R.jsx)(se,Object(M.a)(Object(M.a)({},e),{},{handleSub:a}),e.id)}))})]})},ie=a(10),le=a(21),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(ie.a)(t,2),c=a[0],s=a[1],r=function(){s(e)},i=function(e){var t=e.target;s(Object(M.a)(Object(M.a)({},c),{},Object(le.a)({},t.name,t.value)))};return[c,i,r]},de={"x-token":localStorage.getItem("token")},ue=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",n="".concat("https://primer-backend-nico.herokuapp.com/api","/").concat(e);return"get"===a?Y.a.get(n):Y()({method:a,url:n,data:t})},je=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",n="".concat("https://primer-backend-nico.herokuapp.com/api","/").concat(e);return"get"===a?Y.a.get(n,{method:a,headers:de}):Y()({method:a,url:n,data:t,headers:de})},me=function(){var e=Object(B.b)(),t=oe({logEmail:"nicojoaquin1998@gmail.com",logPass:"nico1234"}),a=Object(ie.a)(t,2),n=a[0],c=a[1],s=n.logEmail,r=n.logPass;return Object(R.jsxs)("form",{className:"bg-light rounded-3 p-5 authForm",onSubmit:function(t){var a,n,c;t.preventDefault(),e((a=s,n=r,c="auth/login",function(){var e=Object(U.a)(Q.a.mark((function e(t){var s,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue(c,{email:a,password:n},"post");case 3:return s=e.sent,e.next=6,s.data;case 6:r=e.sent,console.log(r),r.ok&&(localStorage.setItem("token",r.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(D({uid:r.uid,name:r.name}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),g(e.t0.response.data.msg,"error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(R.jsx)("h2",{className:"text-secondary fs-4 text-center",children:"Sign in"}),Object(R.jsxs)("div",{className:"mb-3",children:[Object(R.jsx)("input",{type:"email",className:"form-control",placeholder:" Email address",name:"logEmail",value:s,onChange:c}),Object(R.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(R.jsx)("div",{className:"mb-3",children:Object(R.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",name:"logPass",value:r,onChange:c})}),Object(R.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Submit"})]})},be=function(){var e=Object(B.b)(),t=oe({regName:"Nicolas",regEmail:"nicojoaquin1998@hotmail.com",regPass1:"nico1234",regPass2:"nico1234"}),a=Object(ie.a)(t,2),n=a[0],c=a[1],s=n.regName,r=n.regEmail,i=n.regPass1,l=n.regPass2;return Object(R.jsxs)("form",{className:"bg-light rounded-3 p-5 authForm",onSubmit:function(t){if(t.preventDefault(),i!==l)return g("Passwords do not match","error");var a,n,c,o;e((a=r,n=i,c=s,o="auth/new",function(){var e=Object(U.a)(Q.a.mark((function e(t){var s,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue(o,{email:a,password:n,name:c},"post");case 3:return s=e.sent,e.next=6,s.data;case 6:r=e.sent,console.log(r),r.ok&&(localStorage.setItem("token",r.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(D({uid:r.uid,name:r.name}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),g(e.t0.response.data.msg,"error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(R.jsx)("h2",{className:"text-secondary fs-4 text-center",children:"Sign up"}),Object(R.jsx)("div",{className:"mb-3",children:Object(R.jsx)("input",{type:"text",className:"form-control",placeholder:"Name",name:"regName",value:s,onChange:c})}),Object(R.jsx)("div",{className:"mb-3",children:Object(R.jsx)("input",{type:"email",className:"form-control",placeholder:" Email address",name:"regEmail",value:r,onChange:c})}),Object(R.jsx)("div",{className:"mb-3",children:Object(R.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",name:"regPass1",value:i,onChange:c})}),Object(R.jsx)("div",{className:"mb-3",children:Object(R.jsx)("input",{type:"password",className:"form-control",placeholder:"Repeat your password",name:"regPass2",value:l,onChange:c})}),Object(R.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Submit"})]})},he=function(){return Object(R.jsxs)("main",{className:"auth-container",style:{minHeight:"100vh"},children:[Object(R.jsx)(me,{}),Object(R.jsx)(be,{})]})},pe=function(){var e=Object(B.b)();return Object(n.useEffect)((function(){var t;e((t="auth/renew",function(){var e=Object(U.a)(Q.a.mark((function e(a){var n,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t);case 3:return n=e.sent,e.next=6,n.data;case 6:c=e.sent,console.log(c),c.ok&&(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),a(D({uid:c.uid,name:c.name}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a(W());case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]),Object(R.jsxs)(H.a,{children:[Object(R.jsx)(ae,{}),Object(R.jsxs)(J.d,{children:[Object(R.jsx)(J.b,{path:"/",element:Object(R.jsx)(ee,{})}),Object(R.jsx)(J.b,{path:"/wishlist",element:Object(R.jsx)(re,{})}),Object(R.jsx)(J.b,{path:"/game/:gameId",element:Object(R.jsx)(ce,{})}),Object(R.jsx)(J.b,{path:"/auth",element:Object(R.jsx)(z,{children:Object(R.jsx)(he,{})})})]})]})};a(83);var xe=function(){return Object(R.jsx)(B.a,{store:_,children:Object(R.jsx)(V.a,{loading:null,persistor:Object(A.a)(_),children:Object(R.jsx)(pe,{})})})};a(84);s.a.render(Object(R.jsx)(xe,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.436bc794.chunk.js.map